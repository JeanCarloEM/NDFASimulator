(function(a,b,c){Object.size=function(f){var e=0,d;for(d in f){if(f.hasOwnProperty(d)){e++}}return e};a.lfaRegex=function(){this.dts={abto:null,destinos:null,start:0,finais:[],cols:[]};this.make=function(f,k,e){function h(l){var n=/^(\s*[0-9]+(\s*[,\.\-]\s?[0-9]+)*\s*)?$/;for(var o=0;o<l.destinos.length;o++){for(var m=0;m<l.destinos[o].length;m++){var p=(""+l.destinos[o][m]).replace(/[^0-9,\.\-]/g,"");if(!n.test(p)){throw"[ERRO] O estado q"+o+" possui uma transicao ["+m+"] cujo destino nao é aceito '"+p+"'."}if(p.length>0){p=(/^[0-9]$/.test(p))?parseInt(p):JSON.parse("["+p.replace(/[\.\-]/g,",")+"]")}else{p=null}l.destinos[o][m]=p}}return l}function j(m,o,n,l,r){l=((l===false)||(l===true))?l:false;function q(s,u,t,i,v){if((u!==null)&&(typeof u==="number")&&(u>=0)&&(s.cols[t].indexOf(u)<0)){s.cols[t].push(u);if(typeof v==="function"){v(u,(s.start===u),(s.finais.indexOf(u)>=0),i,t)}}return s}if(o!==null){if((Array.isArray(o))&&(o.length>0)){for(var p=0;p<o.length;p++){m=q(m,o[p],n,l,r)}}else{m=q(m,o,n,l,r)}}return m}this.processST=function(o,w,p){function q(n,x){var z=[];for(var y=0;n.destinos[x].length;y++){if(Array.isArray(n.destinos[x][y])){var B=n.destinos[x][y].indexof(x);if(B>=0){z.push(n.abto[B])}}else{if(n.destinos[x][y]===x){z.push(n.abto[y])}}}var A="";if(z.length>0){if(z.length===1){A=z[0]+"*"}else{A="("+z.join("+")+")*"}}return A}function t(n,x,z){function B(G,F,E){if((typeof G==="object")&&(n.abto.indexOf(F)>=0)&&(typeof E==="number")&&(E>=0)&&(E<n.destinos.length)){if(G.hasOwnProperty(E)){G[E].push(F)}else{G[E]=[F]}}return G}z=((z===true)||(z===false))?z:false;var C=n.abto.indexOf("ε");var D={};for(var y=0;y<n.destinos[x].length;y++){if((y!==C)||(!z)){if(Array.isArray(n.destinos[x][y])){for(var A=0;A<n.destinos[x][y].length;A++){if((A!==C)||(!z)){D=B(D,n.abto[y],(A===C)?-1:n.destinos[x][y][A])}}}else{D=B(D,n.abto[y],n.destinos[x][y])}}}return D}function s(x){if(null==x||"object"!=typeof x){return x}var y=x.constructor();for(var n in x){if(x.hasOwnProperty(n)){y[n]=x[n]}}return y}function m(x){for(var n in x){if(x[n].length===1){x[n]=x[n][0]+"*"}else{if(x[n].length>1){x[n]="("+x[n].join("+")+")"}}}return x}function v(n,x,z){var y={pself:z,pilhapai:n.pilha[z].pilhapai,st:n.pilha[z].st};if(n.pilha[z].pilhapai!==null){if(n.pilha[n.pilha[z].pilhapai].st===x){return[y]}else{var A=v(n,x,n.pilha[z].pilhapai);if(A!==false){A.push(y)}return A}}return false}p=((typeof p==="number")&&(p>=0))?p:0;if(!p){o.pilha.push({pilhapai:null,st:w,seq:[],pself:0,loops:[]})}if((!o.hasOwnProperty("trans"))||((o.hasOwnProperty("trans"))&&(typeof o.trans!=="object"))){o.trans=[]}var u=o.trans[w]=t(o,w);var r=m(s(u));if(u.hasOwnProperty(w)){o.pilha[p].seq.push(r[w])}for(dest in u){if(dest!==w){var i=v(o,dest,p);if(i!==false){o.pilha[p].loops.push({});o.pilha[p].loops[o.pilha[p].loops.length-1][dest]=i}else{var l=o.pilha.push({pilhapai:p,st:dest,seq:[],loops:[]})-1;o.pilha[l].pself=l;o=this.processST(o,dest,l)}}}return o};function d(l,m,r,s){var p=l.abto.indexOf("ε");if(p>=0){for(var o=0;o<l.cols[r].length;o++){var q=l.cols[r][o];var n=l.destinos[q][p];c("@ EXPANDINDO EPSILONS: "+n);l=j(l,n,r,true,s)}}return l}if((typeof f==="object")&&(f.hasOwnProperty("abto"))&&(f.hasOwnProperty("destinos"))&&(f.hasOwnProperty("start"))&&(f.hasOwnProperty("finais"))){this.dts=h(f);this.dts.start=((""+f.start).length<=0)?0:parseInt(f.start);this.dts.cols=[];this.dts.rs=[];this.dts.pilha=[];for(var g=0;g<this.dts.destinos.length;g++){this.dts.cols.push([]);this.dts=j(this.dts,g,g,false,k);this.dts=d(this.dts,g,g,k)}this.dts=this.processST(this.dts,this.dts.start)}return this.dts}}})(window,(typeof jQuery==="object"?jQuery:Zepto),function(a){});