/* 
 * The MIT License
 *
 * Copyright 2017 Jean Carlo de Elias Moreira.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 *==============================================================================
 *
 * NFASimulator
 * Javascript Object
 *
 * @author     Jean Carlo de Elias Moreira | https://www.jeancarloem.com
 * @license    MIT | https://opensource.org/licenses/MIT
 * @copyright  © 2017 Jean Carlo EM
 * @link       https://opensource.jeancarloem.com/NFASimulator/ 
 */

!function(t,n,s){t.lfa=function(){this.dts={abto:["0","1",null],destinos:[[0,[0,1],null],[2,null,2],[null,3,null],[3,3,null]],start:0,finais:[3],steps:[[]]},this.getDT=function(){return this.dts},this.match=function(t,n,e){function i(t,n){var e=t.abto.indexOf(null);if(e>0)for(var i=t.steps.length-1,o=0;o<t.steps[i].length;o++){var l=t.steps[i][o],u=t.destinos[l][e];u&&(s("@ EXPANDINDO EPSILONS:"),t.steps[i].push(u),"function"==typeof n&&n(null,i,o,null,u,0))}return t}function o(t,e,i){if(t){var o=e.abto.indexOf(t);if(o>=0){var l=e.steps.length-1,u=[];s("PASSO =========== "+l+" || Digito: "+t);for(var f=0;f<e.steps[l].length;f++){var r=e.steps[l][f];s("# ORIGEM: q"+r);var h=e.destinos[r][o];if("number"!=typeof r)throw s(e.steps),s(r),s(h),"[ERRO] Estado invalido presente na sequencia.";if(Array.isArray(h))for(g=0;g<h.length;g++){if(s("  - ADDED-MULTI: q"+h[g]),!("number"==typeof h[g]&&h[g]>=0))throw"[ERRO] Destino Invalido.";u.push(h[g]),"function"==typeof i&&i(t,l+1,f,u,h[g],2)}else"number"==typeof h&&h>=0&&(s("  - ADDED: q"+h),u.push(h),"function"==typeof i&&i(t,l+1,f,u,h,2))}u.length>0&&e.steps.push(u)}}else s("Inicializando"),e.steps=[[e.start]],"function"==typeof i&&i(n[0],0,null,null,e.start,2);return e}function l(t,n,s){return n=i(n,s),"function"==typeof s&&s(t,n.steps.length-1,f,null,null,1),n}function u(t,s,e){return this.dts=o(t,s,e),"function"==typeof e&&e(n[f],s.steps.length-1,f,null,null,3),s}n="string"==typeof n&&n.length>0?n:t,this.dts=o(null,"object"==typeof t?t:this.dts,e),s(n);for(var f=0;f<n.length;f++)this.dts=l(n[f],this.dts,e),this.dts=u(n[f],this.dts,e);this.dts=l(n[f],this.dts,e);for(var r=!1,f=0;f<this.dts.finais.length;f++)if(this.dts.steps[this.dts.steps.length-1].indexOf(this.dts.finais[f])>=0){r=!0;break}return s(":::::::"),s(r?"= String Aceita":"= String NÃO Aceita"),r}}}(window,"object"==typeof jQuery?jQuery:Zepto,function(t){console.log(t)});