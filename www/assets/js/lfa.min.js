!function(t,n,s){t.lfa=function(){this.dts={nfa:!1,abto:["0","1","ε"],destinos:[[0,[0,1],null],[2,null,2],[null,3,null],[3,3,null]],start:0,finais:[3],steps:[[]]},this.getDT=function(){return this.dts},this.inAbto=function(t){var n=this.dts.abto.indexOf(t);if(0>n){var s=/[\d]/.test(t),e=/[a-zA-Z]/.test(t);s?n=this.dts.abto.indexOf("Δ"):e&&(n=this.dts.abto.indexOf("α")),0>n&&(s||e)&&(n=this.dts.abto.indexOf("ω"))}return n},this.match=function(t,n,e){function i(t,n){var s=n.abto.indexOf(t);if(0>s){var e=/[\d]/.test(t),i=/[a-zA-Z]/.test(t);e?s=n.abto.indexOf("Δ"):i&&(s=n.abto.indexOf("α")),0>s&&(e||i)&&(s=n.abto.indexOf("ω"))}return s}function o(t,n,s,e){function i(t,n,s,e){return null!==n&&"number"==typeof n&&n>=0&&t.steps[s].indexOf(n)<0&&(t.steps[s].push(n),"function"==typeof e&&e(n,s)),t}if(null!==n)if(Array.isArray(n)&&n.length>0)for(var o=0;o<n.length;o++)t=i(t,n[o],s,e);else t=i(t,n,s,e);return t}function r(t,n){function e(s,e){n(null,e,a,null,f,t.finais.indexOf(f)>=0,0)}var i=t.abto.indexOf("ε");if(i>=0)for(var r=t.steps.length-1,a=0;a<t.steps[r].length;a++){t.nfa=!0;var l=t.steps[r][a],f=t.destinos[l][i];s("@ EXPANDINDO EPSILONS:"),t=o(t,f,r,e)}return t}function a(t,n,e){function r(i,o){s("  - ADDED: q"+i),"function"==typeof e&&e(t,o,null,null,i,n.finais.indexOf(p)>=0,2)}function a(i,o){s("  - ADDED-MULTI: q"+i),"function"==typeof e&&e(t,o,null,null,i,n.finais.indexOf(p)>=0,2)}if(null!==t&&"string"==typeof t&&t.length>0){var l=i(t,n);if(l>=0){var f=n.steps.length-1;n.steps.push([]);var u=f+1;s("PASSO =========== Atual: "+f+", Novo: "+u+"  || Digito: "+t);for(var d=0;d<n.steps[f].length;d++){var h=n.steps[f][d];if(s("# ORIGEM: q"+h),!(null!==h&&"number"==typeof h&&h>=0))throw"[ERRO] Estado invalido presente na sequencia.";var p=n.destinos[h][l];s("# DESTINO: q"+p),null!==p&&(n=o(n,p,u,Array.isArray(p)?a:r))}}}else{if(s("Inicializando"),n.start=(""+n.start).length<=0?0:parseInt(n.start),n.start>=n.destinos.length)throw"[ERRO] o Estado Inicial selecionado ("+n.start+") é superior ao estado amior ("+(n.destinos.length-1)+")";n.steps=[[n.start]],"function"==typeof e&&e(null,0,null,null,n.start,n.finais.indexOf(n.start)>=0,2)}return n}function l(t,n,s){return n=r(n,s),"function"==typeof s&&s(t,n.steps.length-1,h,null,null,null,1),n}function f(t,n,s){return this.dts=a(t,n,s),"function"==typeof s&&s(t,n.steps.length-1,h,null,null,null,3),n}function u(t){for(var n=/^(\s*[0-9]+(\s*[,\.\-]\s?[0-9]+)*\s*)?$/,s=0;s<t.destinos.length;s++)for(var e=0;e<t.destinos[s].length;e++){var i=(""+t.destinos[s][e]).replace(/[^0-9,\.\-]/g,"");if(!n.test(i))throw"[ERRO] O estado q"+s+" possui uma transicao ["+e+"] cujo destino nao é aceito '"+i+"'.";i=i.length>0?/^[0-9]$/.test(i)?parseInt(i):JSON.parse("["+i.replace(/[\.\-]/g,",")+"]"):null,("object"==typeof i||Array.isArray(i))&&(t.nfa=!0),t.destinos[s][e]=i}return t}this.nfa=!1,n="string"==typeof n&&n.length>0?n:t,this.dts=a(null,u("object"==typeof t?t:this.dts),e);for(var d=!1,h=0;h<n.length;h++){if(this.dts=l(n[h],this.dts,e),i(n[h],this.dts)<0){d=!0,this.dts.steps.push([]);break}this.dts=f(n[h],this.dts,e)}if(this.dts=l(n[h],this.dts,e),d)p=!1;else for(var p=!1,h=0;h<this.dts.finais.length;h++)if(this.dts.steps[this.dts.steps.length-1].indexOf(this.dts.finais[h])>=0){p=!0;break}return s(":::::::"),s(p?"= String Aceita":"= String NÃO Aceita"),p}}}(window,"object"==typeof jQuery?jQuery:Zepto,function(t){console.log(t)});