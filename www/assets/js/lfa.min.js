!function(t,n,s){t.lfa=function(){this.dts={abto:["0","1",null],destinos:[[0,[0,1],null],[2,null,2],[null,3,null],[3,3,null]],start:0,finais:[3],steps:[[]]},this.getDT=function(){return this.dts},this.match=function(t,n,e){function i(t,n,s,e){function i(t,n,s,e){return null!==n&&"number"==typeof n&&n>=0&&t.steps[s].indexOf(n)<0&&(t.steps[s].push(n),"function"==typeof e&&e(n,s)),t}if(null!==n)if(Array.isArray(n)&&n.length>0)for(var l=0;l<n.length;l++)t=i(t,n[l],s,e);else t=i(t,n,s,e);return t}function l(t,n){function e(s,e){n(null,e,r,null,a,t.finais.indexOf(a)>=0,0)}var l=t.abto.indexOf(null);if(l>=0)for(var o=t.steps.length-1,r=0;r<t.steps[o].length;r++){var u=t.steps[o][r],a=t.destinos[u][l];s("@ EXPANDINDO EPSILONS:"),t=i(t,a,o,e)}return t}function o(t,n,e){function l(i,l){s("  - ADDED: q"+i),"function"==typeof e&&e(t,l,null,null,i,n.finais.indexOf(h)>=0,2)}function o(i,l){s("  - ADDED-MULTI: q"+i),"function"==typeof e&&e(t,l,null,null,i,n.finais.indexOf(h)>=0,2)}if(null!==t&&"string"==typeof t&&t.length>0){var r=n.abto.indexOf(t);if(r>=0){var u=n.steps.length-1;n.steps.push([]);var a=u+1;s("PASSO =========== Atual: "+u+", Novo: "+a+"  || Digito: "+t);for(var f=0;f<n.steps[u].length;f++){var d=n.steps[u][f];if(s("# ORIGEM: q"+d),!(null!==d&&"number"==typeof d&&d>=0))throw s(n.steps),s(d),s(h),"[ERRO] Estado invalido presente na sequencia.";var h=n.destinos[d][r];null!==h&&(n=i(n,h,a,Array.isArray(h)?o:l))}}}else{if(s("Inicializando"),n.start=(""+n.start).length<=0?0:parseInt(n.start),n.start>=n.destinos.length)throw"[ERRO] o Estado Inicial selecionado ("+n.start+") é superior ao estado amior ("+(n.destinos.length-1)+")";n.steps=[[n.start]],"function"==typeof e&&e(null,0,null,null,n.start,n.finais.indexOf(n.start)>=0,2)}return n}function r(t,n,s){return n=l(n,s),"function"==typeof s&&s(t,n.steps.length-1,d,null,null,null,1),n}function u(t,n,s){return this.dts=o(t,n,s),"function"==typeof s&&s(t,n.steps.length-1,d,null,null,null,3),n}function a(t){for(var n=/^\s?([0-9]|\[\s?[0-9](\s?\,\s?[0-9])*\s?])?\s?$/,s=0;s<t.destinos.length;s++)for(var e=0;e<t.destinos[s].length;e++){var i=""+t.destinos[s][e];if(!n.test(i))throw console.log(t.destinos),"[ERRO] O estado q"+s+" possui uma transicao ["+e+"] cujo destino nao é aceito '"+i+"'.";i.length>0?(i=i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i=/^[0-9]$/.test(i)?parseInt(i):JSON.parse(i)):i=null,t.destinos[s][e]=i}return t}n="string"==typeof n&&n.length>0?n:t,this.dts=o(null,a("object"==typeof t?t:this.dts),e);for(var f=!1,d=0;d<n.length;d++){if(this.dts=r(n[d],this.dts,e),this.dts.abto.indexOf(n[d])<0){f=!0,this.dts.steps.push([]);break}this.dts=u(n[d],this.dts,e)}if(this.dts=r(n[d],this.dts,e),f)h=!1;else for(var h=!1,d=0;d<this.dts.finais.length;d++)if(this.dts.steps[this.dts.steps.length-1].indexOf(this.dts.finais[d])>=0){h=!0;break}return s(":::::::"),s(h?"= String Aceita":"= String NÃO Aceita"),h}}}(window,"object"==typeof jQuery?jQuery:Zepto,function(t){console.log(t)});